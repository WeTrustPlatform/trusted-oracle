(window["webpackJsonp@wetrustplatform/trusted-oracle"]=window["webpackJsonp@wetrustplatform/trusted-oracle"]||[]).push([[0],{346:function(e,t,a){e.exports=a(654)},347:function(e,t,a){},355:function(e,t){},367:function(e,t){},369:function(e,t){},382:function(e,t){},573:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=573},644:function(e,t,a){e.exports=a.p+"static/media/card-posted.3ac95a35.svg"},645:function(e,t,a){e.exports=a.p+"static/media/card-trst.537b4cb2.svg"},646:function(e,t,a){e.exports=a.p+"static/media/metamask-account-icon.ba23639b.svg"},647:function(e,t,a){e.exports=a.p+"static/media/logo.e7e7ac83.svg"},648:function(e,t,a){e.exports=a.p+"static/media/logo-mobile.b23ff1cf.svg"},649:function(e,t,a){e.exports=a.p+"static/media/oracle-hero.7f2daadb.png"},650:function(e,t,a){e.exports=a.p+"static/media/how-it-works.c8a63f5c.png"},651:function(e,t,a){e.exports=a.p+"static/media/how-it-works-mobile.564b9965.svg"},652:function(e,t){e.exports="data:image/png;base64,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"},653:function(e,t){e.exports="data:image/png;base64,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"},654:function(e,t,a){"use strict";a.r(t);a(347),a(348);var n,r=a(684),o=a(0),i=a.n(o),c=a(47),l=a.n(c),s=(a(353),a(305)),u=a(343),d=a(682),m=a(686),f=a(22),g=a(169),p=a(2),E=a.n(p),b=a(31),w=a(130),h=a.n(w),y=a(306),x=a.n(y),v=a(4),A=a.n(v),k=a(140),T=a(330),O=a(26),S=a(675),I=a(701),N=a(341),q=a(700),C=a(689),D=a(693),z=a(676),B=a(699),R=a(309),j=a.n(R),L=a(672),H=a(10),P=a(310),V=a.n(P),M=a(40),W=a.n(M),F=function(e){var t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(e.eth.net.getId());case 2:return t=a.sent,a.abrupt("return",t);case 4:case"end":return a.stop()}}))},U=function(e){var t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(e.eth.getAccounts());case 2:return t=a.sent,a.abrupt("return",t[0]||null);case 4:case"end":return a.stop()}}))},Y=function(e){return e&&e.currentProvider?e.currentProvider.isEQLWallet?"equal":e.currentProvider.isMetaMask?"metamask":e.currentProvider.isDapper?"dapper":e.currentProvider.isSafe?"safe":e.currentProvider.isTrust?"trust":e.currentProvider.isGoWallet?"goWallet":e.currentProvider.isAlphaWallet?"alphaWallet":e.currentProvider.isStatus?"status":e.currentProvider.isToshi?"coinbase":null:null},G={web3IsLoading:!0,providerName:null,account:null,networkId:1,isConnected:!1},Q=function(e){var t,a,n,r;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,E.a.awrap(U(e));case 2:return t=o.sent,o.next=5,E.a.awrap(F(e));case 5:return a=o.sent,o.next=8,E.a.awrap(Y(e));case 8:if(n=o.sent,r=!1,"metamask"!==n){o.next=14;break}return o.next=13,E.a.awrap(window.ethereum._metamask.isApproved());case 13:r=o.sent;case 14:return o.abrupt("return",{isConnected:r,account:t,networkId:a,providerName:n,web3IsLoading:!1});case 15:case"end":return o.stop()}}))},X=i.a.createContext(Object(b.a)({},G,{hasWallet:!1,web3:new W.a(W.a.givenProvider)})),Z=function(){return i.a.useContext(X)},J=function(e,t){switch(t.type){case"update":return Object(b.a)({},e,{},t.payload);case"load":return Object(b.a)({},e,{},t.payload,{web3IsLoading:!1});default:throw new Error}},K=function(e){var t=e.children,a=e.fallbackRPCEndpoint,n=void 0===a?"https://mainnet.infura.io/v3/022f489bd91a47f3960f6f70333bdb76":a,r=e.onChangeAccount,o=void 0===r?function(){}:r,c=i.a.useReducer(J,G),l=Object(H.a)(c,2),s=l[0],u=l[1],d=i.a.useState(new W.a(W.a.givenProvider||n)),m=Object(H.a)(d,1)[0],f=s.account,g=s.networkId,p=s.web3IsLoading,E=s.providerName,b=s.isConnected;return i.a.useEffect((function(){Q(m).then((function(e){u({type:"load",payload:e})}))}),[n,m]),i.a.useEffect((function(){var e=m.currentProvider;e.publicConfigStore&&e.publicConfigStore.on("update",(function(){Q(m).then((function(e){var t=e.account,a=e.networkId;f&&t&&f!==t&&(o(t),u({type:"update",payload:e})),g!==a&&u({type:"update",payload:e})}))}))}),[f,g,n,m,o]),i.a.createElement(X.Provider,{value:{web3IsLoading:p,account:f,networkId:g,providerName:E,hasWallet:!!W.a.givenProvider,isConnected:b,web3:m}},t)},_=function(e){var t=Z(),a=t.web3,n=t.web3IsLoading,r=Object(L.a)((function(){var t;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n&&e){r.next=2;break}return r.abrupt("return");case 2:return(t=V()(e)).setProvider(a.currentProvider),r.abrupt("return",t);case 5:case"end":return r.stop()}}))}),[n,e]);return{loading:r.loading||n,contract:r.value}},$=i.a.createContext({currency:"TRST",setCurrency:function(){},tokenInstance:null,isCurrencyLoading:!0,approve:function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}}),ee=function(){return i.a.useContext($)},te=function(e){var t=e.children,a=e.initialCurrency,n=e.contracts,r=i.a.useState(a),o=Object(H.a)(r,2),c=o[0],l=o[1],s=Z().account,u=_(n[c]),d=u.contract,m=u.loading,f=Object(L.a)((function(){var e;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.awrap(d.deployed());case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))}),[d]),g=f.value,p=f.loading,b=i.a.useCallback((function(e,t){if(!n[c])throw new Error("".concat(c," does not have corresponding contract"));return new Promise((function(a,n){return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:g.approve.sendTransaction(e,t.toString(),{from:s}).once("transactionHash",(function(){setTimeout((function(){return a()}),3e3)})).on("error",(function(e){return n(e)}));case 1:case"end":return r.stop()}}))}))}),[g,s,c,n]);return i.a.createElement($.Provider,{value:{currency:c,setCurrency:l,tokenInstance:g,isCurrencyLoading:p||m,approve:b}},t)},ae={ETH:{decimalsBn:new A.a("1000000000000000000"),decimals:1e18},TRST:{decimalsBn:new A.a("1000000"),decimals:1e6}},ne=function(e,t){if("ETH"!==t){var a=e.div(ae[t].decimalsBn).toNumber();return 0===a?"".concat((e.toNumber()/ae[t].decimals).toString()," ").concat(t):"".concat(a.toString()," ").concat(t)}return"".concat(W.a.utils.fromWei(e.toString(),"ether")," ").concat(t)},re=function(e,t){if("ETH"!==t){var a=new A.a(e).mul(ae[t].decimalsBn);return a.toString().includes("undefined")?new A.a(0):a}return new A.a(W.a.utils.toWei(e,"ether"))},oe=a(342),ie=a(685),ce=function(){var e=Z().web3;return i.a.useCallback((function(t){var a;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(e.eth.getBlock(t));case 2:return a=n.sent,n.abrupt("return",a);case 4:case"end":return n.stop()}}))}),[e])},le=a(208);!function(e){e.LogSetQuestionFee="LogSetQuestionFee",e.LogNewTemplate="LogNewTemplate",e.LogNewQuestion="LogNewQuestion",e.LogFundAnswerBounty="LogFundAnswerBounty",e.LogNewAnswer="LogNewAnswer",e.LogAnswerReveal="LogAnswerReveal",e.LogNotifyOfArbitrationRequest="LogNotifyOfArbitrationRequest",e.LogFinalize="LogFinalize",e.LogClaim="LogClaim"}(n||(n={}));var se,ue,de=a(311),me={TRST:a(312),ETH:de},fe=a(313),ge={TRST:a(314),ETH:fe},pe=a(315),Ee={TRST:a(316),ETH:pe},be={1:6531147,3:0,4:3175028,42:10350865,1337:0},we=i.a.createContext({realitio:null,arbitratorContract:null,arbitratorList:[],loading:!0,initialBlockNumber:0}),he=function(){return i.a.useContext(we)},ye=function(e){var t=e.children,a=ee().currency,n=Z().networkId,r=function(e){var t=_(Ee[e]),a=t.contract,n=t.loading,r=Object(L.a)((function(){var e;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.awrap(a.deployed());case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}))}),[a]);return{instance:r.value,loading:n||r.loading}}(a),o=r.instance,c=r.loading,l=function(e){var t=_(me[e]);return{contract:t.contract,loading:t.loading}}(a),s=l.contract,u=l.loading,d=function(e,t){var a=ge[e][t];return Object.keys(a).map((function(e){return{name:a[e],address:e}}))}(a,n),m=be[n];return i.a.createElement(we.Provider,{value:{realitio:o,arbitratorContract:s,loading:u||c,initialBlockNumber:m,arbitratorList:d}},t)},xe=a(673),ve=a(674);!function(e){e.PENDING_ARBITRATION="PENDING_ARBITRATION",e.NOT_OPEN="NOT_OPEN",e.OPEN="OPEN",e.FINALIZED="FINALIZED"}(se||(se={})),function(e){e.BINARY="BINARY",e.NUMBER="NUMBER",e.SINGLE_CHOICE="SINGLE_CHOICE",e.MULTIPLE_CHOICE="MULTIPLE_CHOICE",e.DATE_TIME="DATE_TIME"}(ue||(ue={}));var Ae=function(e){return new Date(1e3*e.toNumber())},ke=function(e){var t=e.args;return{id:t.question_id,arbitrator:t.arbitrator,nonce:t.nonce,createdAtDate:Ae(t.created),user:t.user,contentHash:t.content_hash,questionTitle:t.question,templateId:t.template_id.toNumber(),openingDate:Ae(t.opening_ts)}},Te=function(e){return e.finalize_ts.toNumber()>1},Oe=function(e){return function(e){return!e.is_pending_arbitration&&(!!Te(e)&&Object(xe.a)(new Date,Ae(e.finalize_ts)))}(e)?se.FINALIZED:function(e){var t=new Date,a=Object(xe.a)(t,Ae(e.opening_ts)),n=!Te(e)||Object(ve.a)(t,Ae(e.finalize_ts));return a&&n&&!e.is_pending_arbitration}(e)?se.OPEN:e.is_pending_arbitration?se.PENDING_ARBITRATION:se.NOT_OPEN},Se=function(e){if("bool"===e)return ue.BINARY;if("multiple-select"===e)return ue.MULTIPLE_CHOICE;if("single-select"===e)return ue.SINGLE_CHOICE;if("datetime"===e)return ue.DATE_TIME;if("int"===e||"uint"===e)return ue.NUMBER;throw new Error("Expected recognized question type, received ".concat(e))},Ie=function(e,t,a,n){var r=h.a.populatedJSONForTemplate(le.content[e.templateId],e.questionTitle);return Object(b.a)({},e,{questionTitle:r.title,timeout:t.timeout,finalizedAtDate:Te(t)?Ae(t.finalize_ts):"UNANSWERED",bounty:t.bounty,bestAnswer:t.best_answer,historyHash:t.history_hash,disputeFee:a,bond:t.bond,type:Se(r.type),rawType:r.type,language:"undefined"===r.lang?null:r.lang,category:"undefined"===r.category?null:r.category,state:Oe(t),answers:n})},Ne=function(e){return e.type===ue.BINARY},qe=function(){var e=he(),t=e.realitio,a=e.arbitratorContract,r=e.initialBlockNumber;return i.a.useCallback((function(e){var o,i,c,l,s,u,d,m;return E.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:if(t&&a){f.next=2;break}throw new Error("Oracle and Web3 needs to be loaded first before fetching");case 2:return f.next=4,E.a.awrap(t.getPastEvents(n.LogNewQuestion,{fromBlock:r,toBlock:"latest",filter:{question_id:e}}));case 4:if(0!==(o=f.sent).length){f.next=7;break}return f.abrupt("return",null);case 7:if(!(o.length>1)){f.next=9;break}throw new Error("There should only be one NewQuestion event tied to the questionId");case 9:return i=o[0],c=ke(i),f.next=13,E.a.awrap(t.questions.call(i.args.question_id));case 13:return l=f.sent,f.next=16,E.a.awrap(t.getPastEvents(n.LogNewAnswer,{fromBlock:r,toBlock:"latest",filter:{question_id:i.args.question_id}}));case 16:return s=f.sent,f.next=19,E.a.awrap(a.at(c.arbitrator));case 19:return u=f.sent,f.next=22,E.a.awrap(u.getDisputeFee.call(c.id));case 22:return d=f.sent,m=Ie(c,l,d,s.map((function(e){return{answer:e.args.answer,bond:e.args.bond,historyHash:e.args.history_hash,isCommitment:e.args.is_commitment,questionId:e.args.question_id,createdAtDate:Ae(e.args.ts),user:e.args.user}}))),f.abrupt("return",m);case 25:case"end":return f.stop()}}))}),[t,r,a])},Ce=function(e){var t=e instanceof Date?e:new Date(1e3*e.timestamp);return"".concat(Object(ie.a)(t)," ago")},De=i.a.createContext({notifications:[],questions:[],refetch:function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},refetchIds:function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))},getById:function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}))},getManyByIds:function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[]);case 1:case"end":return e.stop()}}))},getNotifications:function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}))}}),ze=function(){return i.a.useContext(De)},Be={notifications:[],questions:[]},Re=function(e,t){switch(t.type){case"insert":return Object(b.a)({},e,{questions:e.questions.filter((function(e){return e.id!==t.payload.question.id})).concat(t.payload.question)});case"insertBatch":return Object(b.a)({},e,{questions:e.questions.filter((function(e){return!t.payload.questions.map((function(e){return e.id})).includes(e.id)})).concat(t.payload.questions)});case"update":return Object(b.a)({},e,{questions:e.questions.filter((function(e){return e.id!==t.payload.question.id})).concat(t.payload.question)});case"updateBatch":return Object(b.a)({},e,{questions:e.questions.filter((function(e){return!t.payload.questions.map((function(e){return e.id})).includes(e.id)})).concat(t.payload.questions)});case"loadNotifications":return Object(b.a)({},e,{notifications:t.payload.notifications});default:throw new Error}},je=function(e){var t=e.children,a=qe(),r=function(){var e=Z().account,t=he(),a=t.realitio,r=t.initialBlockNumber,o=ee().currency,i=qe(),c=ce(),l=Object(oe.a)((function(){var t,l;return E.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a){s.next=2;break}return s.abrupt("return",[]);case 2:return s.next=4,E.a.awrap(a.getPastEvents("allEvents",{fromBlock:r,toBlock:"latest"}));case 4:return t=s.sent,s.next=7,E.a.awrap(Promise.all(t.sort((function(e,t){return t.blockNumber-e.blockNumber})).map((function(t){var a,r,l,s,u,d,m,f,g,p,b,w,h;return E.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:y.t0=t.event,y.next=y.t0===n.LogNewQuestion?3:y.t0===n.LogNewAnswer?11:y.t0===n.LogAnswerReveal?29:y.t0===n.LogFundAnswerBounty?46:y.t0===n.LogNotifyOfArbitrationRequest?64:y.t0===n.LogFinalize?79:y.t0===n.LogClaim?94:105;break;case 3:if(t.args.user!==e){y.next=10;break}return y.next=6,E.a.awrap(i(t.args.question_id));case 6:if(a=y.sent){y.next=9;break}throw new Error("Question not found");case 9:return y.abrupt("return",{questionId:a.id,date:Ce(a.createdAtDate),questionTitle:a.questionTitle,message:"You asked a question"});case 10:return y.abrupt("return",null);case 11:return y.next=13,E.a.awrap(i(t.args.question_id));case 13:if(r=y.sent){y.next=16;break}throw new Error("Question not found");case 16:if(t.args.user!==e){y.next=22;break}if(!t.args.is_commitment){y.next=21;break}return y.abrupt("return",{questionId:r.id,date:Ce(Ae(t.args.ts)),questionTitle:r.questionTitle,message:"You committed to answering a question"});case 21:return y.abrupt("return",{questionId:r.id,date:Ce(Ae(t.args.ts)),questionTitle:r.questionTitle,message:"You answered a question"});case 22:if(r.user!==e){y.next=26;break}return y.abrupt("return",{questionId:r.id,date:Ce(Ae(t.args.ts)),questionTitle:r.questionTitle,message:"Someone answered your question"});case 26:if(!r.answers.slice(1).some((function(t){return t.user===e}))){y.next=28;break}return y.abrupt("return",{questionId:r.id,date:Ce(Ae(t.args.ts)),questionTitle:r.questionTitle,message:"Your answer was overwritten"});case 28:return y.abrupt("return",null);case 29:return y.next=31,E.a.awrap(i(t.args.question_id));case 31:if(l=y.sent){y.next=34;break}throw new Error("Question not found");case 34:return y.next=36,E.a.awrap(c(t.blockNumber));case 36:if(s=y.sent,t.args.user!==e){y.next=39;break}return y.abrupt("return",{questionId:l.id,date:Ce(s),questionTitle:l.questionTitle,message:"You revealed an answer to a question"});case 39:if(l.user!==e){y.next=43;break}return y.abrupt("return",{questionId:l.id,date:Ce(s),questionTitle:l.questionTitle,message:"Someone revealed their answer to your question"});case 43:if(!l.answers.slice(1).some((function(t){return t.user===e}))){y.next=45;break}return y.abrupt("return",{questionId:l.id,date:Ce(s),questionTitle:l.questionTitle,message:"Your answer was overwritten"});case 45:return y.abrupt("return",null);case 46:return y.next=48,E.a.awrap(c(t.blockNumber));case 48:return u=y.sent,y.next=51,E.a.awrap(i(t.args.question_id));case 51:if(d=y.sent){y.next=54;break}throw new Error("Question not found");case 54:if(m=ne(t.args.bounty,o),t.args.user!==e){y.next=57;break}return y.abrupt("return",{questionId:d.id,date:Ce(u),questionTitle:d.questionTitle,message:"You added ".concat(m," bounty")});case 57:if(d.user!==e){y.next=61;break}return y.abrupt("return",{questionId:d.id,date:Ce(u),questionTitle:d.questionTitle,message:"Someone added ".concat(m," bounty to your question")});case 61:if(!d.answers.some((function(t){return t.user===e}))){y.next=63;break}return y.abrupt("return",{questionId:d.id,date:Ce(u),questionTitle:d.questionTitle,message:"Someone added ".concat(m," bounty to the question you answered")});case 63:return y.abrupt("return",null);case 64:return y.next=66,E.a.awrap(i(t.args.question_id));case 66:if(f=y.sent){y.next=69;break}throw new Error("Question not found");case 69:return y.next=71,E.a.awrap(c(t.blockNumber));case 71:if(g=y.sent,t.args.user!==e){y.next=74;break}return y.abrupt("return",{questionId:f.id,date:Ce(g),questionTitle:f.questionTitle,message:"You requested arbitration"});case 74:if(f.user!==e){y.next=76;break}return y.abrupt("return",{questionId:f.id,date:Ce(g),questionTitle:f.questionTitle,message:"Someone requested arbitration to your question"});case 76:if(!f.answers.some((function(t){return t.user===e}))){y.next=78;break}return y.abrupt("return",{questionId:f.id,date:Ce(g),questionTitle:f.questionTitle,message:"Someone requested arbitration to the question you answered"});case 78:return y.abrupt("return",null);case 79:return y.next=81,E.a.awrap(c(t.blockNumber));case 81:return p=y.sent,y.next=84,E.a.awrap(i(t.args.question_id));case 84:if(b=y.sent){y.next=87;break}throw new Error("Question not found");case 87:if(b.user!==e){y.next=91;break}return y.abrupt("return",{questionId:b.id,date:Ce(p),questionTitle:b.questionTitle,message:"Your question is finalized"});case 91:if(!b.answers.some((function(t){return t.user===e}))){y.next=93;break}return y.abrupt("return",{questionId:b.id,date:Ce(p),questionTitle:b.questionTitle,message:"The question you answered is finalized"});case 93:return y.abrupt("return",null);case 94:if(t.args.user!==e){y.next=104;break}return y.next=97,E.a.awrap(c(t.blockNumber));case 97:return w=y.sent,y.next=100,E.a.awrap(i(t.args.question_id));case 100:if(h=y.sent){y.next=103;break}throw new Error("Question not found");case 103:return y.abrupt("return",{questionId:h.id,date:Ce(w),questionTitle:h.questionTitle,message:"You claimed ".concat(ne(t.args.amount,o))});case 104:case 105:return y.abrupt("return",null);case 106:case"end":return y.stop()}}))}))));case 7:return l=s.sent,s.abrupt("return",l.filter((function(e){return null!==e})));case 9:case"end":return s.stop()}}))}),[a,r,i,e]);return Object(H.a)(l,2)[1]}(),o=i.a.useReducer(Re,Be),c=Object(H.a)(o,2),l=c[0],s=c[1],u=i.a.useCallback((function(e){var t,n,r;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=l.questions,!(n=t.find((function(t){return t.id===e})))){o.next=4;break}return o.abrupt("return",n);case 4:return o.next=6,E.a.awrap(a(e));case 6:if(r=o.sent){o.next=9;break}return o.abrupt("return",null);case 9:return s({type:"insert",payload:{question:r}}),o.abrupt("return",r);case 11:case"end":return o.stop()}}))}),[a,l]),d=i.a.useCallback((function(e){var t,n,r;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=l.questions,o.next=3,E.a.awrap(a(e));case 3:(n=o.sent)&&(r=t.find((function(t){return t.id===e})),s(r?{type:"update",payload:{question:n}}:{type:"insert",payload:{question:n}}));case 5:case"end":return o.stop()}}))}),[a,l]),m=i.a.useCallback((function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(Promise.all(e.map((function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(a(e));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}))}))));case 2:n.t0=Boolean,t=n.sent.filter(n.t0),s({type:"updateBatch",payload:{questions:t}});case 5:case"end":return n.stop()}}))}),[a]),f=i.a.useCallback((function(e){var t,n,r;return E.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=l.questions,n=[],o.next=4,E.a.awrap(Promise.all(e.map((function(e){var r,o;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(r=t.find((function(t){return t.id===e})))){i.next=3;break}return i.abrupt("return",r);case 3:return i.next=5,E.a.awrap(a(e));case 5:return(o=i.sent)&&n.push(o),i.abrupt("return",o);case 8:case"end":return i.stop()}}))}))));case 4:return o.t0=Boolean,r=o.sent.filter(o.t0),n.length&&s({type:"insertBatch",payload:{questions:n}}),o.abrupt("return",r);case 8:case"end":return o.stop()}}))}),[a,l]),g=Object(oe.a)((function(){var e;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.awrap(r());case 2:e=t.sent,s({type:"loadNotifications",payload:{notifications:e}});case 4:case"end":return t.stop()}}))}),[r]),p=Object(H.a)(g,2)[1];return i.a.createElement(De.Provider,{value:{getById:u,getManyByIds:f,refetch:d,refetchIds:m,questions:l.questions,notifications:l.notifications,getNotifications:p}},t)},Le=function(){var e=Z(),t=e.account,a=e.web3,n=ee(),r=n.currency,o=n.tokenInstance,c=function(){var e=Z(),t=e.account,a=e.web3,n=ee(),r=n.currency,o=n.tokenInstance,i=Object(oe.a)((function(){var e;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return",null);case 2:if(n.t0=E.a,"ETH"!==r){n.next=11;break}return n.t2=A.a,n.next=7,E.a.awrap(a.eth.getBalance(t));case 7:n.t3=n.sent,n.t1=new n.t2(n.t3),n.next=12;break;case 11:n.t1=o?o.balanceOf.call(t):null;case 12:return n.t4=n.t1,n.next=15,n.t0.awrap.call(n.t0,n.t4);case 15:return e=n.sent,n.abrupt("return",e);case 17:case"end":return n.stop()}}))}),[t,a,r,o]);return Object(H.a)(i,2)[1]}(),l=ze().questions,s=i.a.useState({loading:!0,data:new A.a(0)}),u=Object(H.a)(s,2),d=u[0],m=u[1];return Object(L.a)((function(){var e;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=5;break}return a.next=3,E.a.awrap(c());case 3:(e=a.sent)&&m({data:e,loading:!1});case 5:case"end":return a.stop()}}))}),[t,a,r,o,l]),d},He=a(690),Pe=function(){return i.a.createElement(S.a,{padding:24,alignItems:"center"},i.a.createElement(I.a,{size:"xxxlarge",color:"secondary",align:"center"},"Connect with Metamask"),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(T.a,{size:"large",align:"center"},"To continue, sign in Metamask and allow the application to connect.")))},Ve=function(){var e=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;return i.a.createElement(S.a,{padding:48,alignItems:"center"},i.a.createElement(S.a,{maxWidth:500},i.a.createElement(I.a,{align:"center",testID:"REQUIRE_METAMASK",size:"xxxlarge",color:"secondary"},"Wallet required"),i.a.createElement(S.a,{paddingVertical:24},i.a.createElement(T.a,{size:"large",align:"center"},"To continue, please attach a wallet to the session. You can use your browser and install"," ",i.a.createElement("a",{style:{textDecoration:"none"},href:e?"https://addons.mozilla.org/en-US/firefox/addon/ether-metamask/":"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",target:"_blank",rel:"noopener noreferrer"},i.a.createElement(T.a,{color:"link"},"MetaMask extension."))," "))))},Me=function(){return i.a.createElement(S.a,{padding:48,alignItems:"center"},i.a.createElement(I.a,{size:"xxxlarge",color:"secondary",testID:"SIGNIN_METAMASK_TITLE"},"No account selected"),i.a.createElement(S.a,{paddingVertical:24},i.a.createElement(T.a,{size:"large"},"We detected a wallet available but no account was selected. Please log in to your account in e.g. Metamask")))},We=i.a.createContext({setShowRequireMetamaskSetup:function(e){},setShowRequireWalletSignIn:function(e){},setShowRequireMetamaskPrivacyApproval:function(e){},ensureHasConnected:function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}))}}),Fe=function(){return i.a.useContext(We)},Ue=function(e){var t=e.children,a=Z(),n=a.account,r=a.hasWallet,o=a.isConnected,c=a.providerName,l=i.a.useState(!1),s=Object(H.a)(l,2),u=s[0],d=s[1],m=i.a.useState(!1),f=Object(H.a)(m,2),g=f[0],p=f[1],b=i.a.useState(!1),w=Object(H.a)(b,2),h=w[0],y=w[1];i.a.useEffect((function(){n&&(p(!1),y(!1),d(!1))}),[n]);var x=i.a.useCallback((function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return d(!0),e.abrupt("return",!1);case 3:if(o){e.next=9;break}if("metamask"!==c){e.next=8;break}return y(!0),e.next=8,E.a.awrap(window.ethereum.enable());case 8:return e.abrupt("return",!1);case 9:if(n){e.next=15;break}if(p(!0),"metamask"!==c){e.next=14;break}return e.next=14,E.a.awrap(window.ethereum.enable());case 14:return e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}))}),[n,c,r,o]);return i.a.createElement(We.Provider,{value:{setShowRequireMetamaskSetup:function(e){return p(e)},setShowRequireWalletSignIn:function(e){return p(e)},setShowRequireMetamaskPrivacyApproval:function(e){return y(e)},ensureHasConnected:x}},t,u&&i.a.createElement(He.a,{isVisible:!0,onRequestClose:function(){return d(!1)}},i.a.createElement(Ve,null)),h&&i.a.createElement(He.a,{isVisible:!0,onRequestClose:function(){return y(!1)}},i.a.createElement(Pe,null)),g&&i.a.createElement(He.a,{isVisible:!0,onRequestClose:function(){return p(!1)}},i.a.createElement(Me,null)))},Ye=function(e){var t=e.children,a=e.pattern;return"dotted"===(void 0===a?"textured":a)?i.a.createElement("div",{style:{backgroundImage:"url('https://res.cloudinary.com/wetrust-cryptounlocked/image/upload/c_crop,w_400/v1568706049/dotted-bg.png')"}},t):i.a.createElement("div",{style:{backgroundImage:"url('https://res.cloudinary.com/wetrust-cryptounlocked/image/upload/c_crop,w_400/v1568706049/textured-bg.png')"}},t)},Ge=a(692),Qe=function(e){return i.a.createElement(Ge.a,Object.assign({color:"primary",getStyles:function(e,t){var a=e.appearance;e.isLoading;return"outline"===a?{touchableStyle:{backgroundColor:"transparent",borderColor:"#eb7209",borderWidth:1,minWidth:280},textStyle:{color:"#eb7209",fontSize:18}}:{touchableStyle:{minWidth:280,backgroundColor:"#e98100"},textStyle:{fontSize:18}}}},e))},Xe=function(){var e=Z(),t=e.account,a=e.web3IsLoading,n=ee().currency,r=Le().data;return a?null:t?i.a.createElement(T.a,{color:"primary",weight:"bold"},"Your balance: ",ne(r,n)):i.a.createElement(T.a,{weight:"bold"},"Connect to wallet")},Ze=Object(f.e)((function(e){var t=e.history,a=Object(O.e)().getResponsiveValue,n=he(),r=n.arbitratorContract,o=n.realitio,c=n.arbitratorList,l=ze().getById,s=Z().account,u=ee(),d=u.currency,m=u.approve,f=Fe().ensureHasConnected,g=Object(L.a)((function(){var e;return E.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r&&o){t.next=3;break}return t.abrupt("return",c.map((function(e){return Object(b.a)({},e,{fee:new A.a(0)})})));case 3:return t.next=5,E.a.awrap(Promise.all(c.map((function(e){var t,a,n;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,E.a.awrap(r.at(e.address));case 2:return t=i.sent,i.next=5,E.a.awrap(t.realitio.call());case 5:if(a=i.sent,o.address.toLowerCase()!==a.toLowerCase()){i.next=11;break}return i.next=9,E.a.awrap(o.arbitrator_question_fees.call(e.address));case 9:return n=i.sent,i.abrupt("return",Object(b.a)({},e,{fee:n}));case 11:return i.abrupt("return",e);case 12:case"end":return i.stop()}}))}))));case 5:return e=t.sent,t.abrupt("return",e);case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",c.map((function(e){return Object(b.a)({},e,{fee:new A.a(0)})})));case 13:case"end":return t.stop()}}),null,null,[[0,9]])}),[]).value,p=Object(k.a)({initialValues:{bounty:"",category:"UNSELECTED",openingDate:"",questionTitle:"",arbitrator:"UNSELECTED",arbitratorAddress:"",type:"bool",timeout:"86400"},validate:function(){var e={};return"UNSELECTED"===w.category&&(e.category="Please select a category"),"UNSELECTED"===w.arbitrator&&(e.arbitrator="Please select an arbitrator"),""===w.questionTitle&&(e.questionTitle="Please enter your question"),"TRST"===d&&w.bounty&&re(w.bounty,d).lte(new A.a(0))&&(e.bounty="Bounty for TRST must be greater than 0"),e},onSubmit:function(e,a){var n,i,c,u,p,b,w,y,v,k,T,O,S,I,N,q,C,D;return E.a.async((function(z){for(;;)switch(z.prev=z.next){case 0:return n=a.setSubmitting,i=a.setErrors,z.next=3,E.a.awrap(f());case 3:if(z.sent){z.next=6;break}return n(!1),z.abrupt("return");case 6:return c=e.category,u=e.questionTitle,p=e.type,b=Number(e.timeout),w=h.a.encodeText(p,u,[""],c),y=""!==e.arbitratorAddress?e.arbitratorAddress:e.arbitrator,z.next=12,E.a.awrap(r.at(y));case 12:return v=z.sent,k=""===e.openingDate?0:parseInt(e.openingDate.valueOf()/1e3),T=""!==e.bounty?re(e.bounty,d):new A.a(0),O=x.a.defaultTemplateIDForType(p),S=h.a.questionID(O,w,y,b,k,s,0),z.next=19,E.a.awrap(v.realitio.call());case 19:if(I=z.sent,o.address.toLowerCase()===I.toLowerCase()){z.next=24;break}return n(!1),i({arbitrator:"Bad arbitrator"}),z.abrupt("return");case 24:if(g){z.next=28;break}return n(!1),i({arbitrator:"Arbitrator data not loaded yet"}),z.abrupt("return");case 28:return N=g.find((function(e){return e.address===y})),q=N?N.fee:new A.a(0),z.next=32,E.a.awrap(o.arbitrator_question_fees.call(y));case 32:if(C=z.sent,q.eq(C)){z.next=37;break}return n(!1),i({arbitrator:"Fee has changed to ".concat(C)}),z.abrupt("return");case 37:if(D=T.add(C),"ETH"!==d){z.next=43;break}return z.next=41,E.a.awrap(o.askQuestion.sendTransaction(O,w,y,b,k,0,{from:s,value:D.toString()}));case 41:z.next=47;break;case 43:return z.next=45,E.a.awrap(m(o.address,D));case 45:return z.next=47,E.a.awrap(o.askQuestionERC20.sendTransaction(O,w,y,b,k,0,D.toString(),{from:s}));case 47:return z.next=49,E.a.awrap(l(S));case 49:t.replace("/");case 50:case"end":return z.stop()}}))}}),w=p.values,y=p.touched,v=p.errors,T=p.setFieldValue,R=p.submitForm,H=p.isSubmitting;return i.a.createElement(S.a,null,i.a.createElement(S.a,Object.assign({paddingBottom:16},a({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),{paddingTop:40}),i.a.createElement(I.a,{align:"center",color:"primary",size:"xxlarge"},"ASK A QUESTION")),i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,Object.assign({},a({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),{paddingVertical:24,flexDirection:"row",justifyContent:"space-between"}),i.a.createElement(Xe,null))),i.a.createElement(Ye,{pattern:"dotted"},i.a.createElement(S.a,Object.assign({paddingTop:24},a({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(S.a,{paddingBottom:24,zIndex:1},i.a.createElement(N.b,null,i.a.createElement(q.a,{large:6},i.a.createElement(C.a,{label:"Category",error:y.category&&v.category,description:"Choosing an appropriate category helps users find questions to category."},i.a.createElement(D.a,{selectedValue:w.category,onValueChange:function(e){return T("category",e)}},i.a.createElement(z.a,{value:"UNSELECTED",label:"Choose a category"}),i.a.createElement(z.a,{value:"sports",label:"Sports"}),i.a.createElement(z.a,{value:"politics",label:"Politics"}),i.a.createElement(z.a,{value:"weather",label:"Weather"}),i.a.createElement(z.a,{value:"blockchain",label:"Blockchains"}),i.a.createElement(z.a,{value:"culture",label:"Culture"}),i.a.createElement(z.a,{value:"business-finance",label:"Business / Finance"}),i.a.createElement(z.a,{value:"art-design",label:"Art / Design"}),i.a.createElement(z.a,{value:"technology-science",label:"Technology / Science"}),i.a.createElement(z.a,{value:"misc",label:"Miscellaneous"})))),i.a.createElement(q.a,{large:6},i.a.createElement(C.a,{label:"Opening Date",error:y.openingDate&&v.openingDate,description:"The opening date is when answers can be posted. If the event has not yet taken place, the opening date should be set to after the event is supposed to happen."},i.a.createElement(j.a,{placeholder:"Choose a date",format:"yy-mm-dd",value:w.openingDate,onDayChange:function(e){return T("openingDate",e)}}))))),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(N.b,null,i.a.createElement(q.a,null,i.a.createElement(C.a,{label:"Question",error:y.questionTitle&&v.questionTitle},i.a.createElement(B.a,{value:w.questionTitle,onChangeText:function(e){return T("questionTitle",e)},numberOfLines:2}))))),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(N.b,null,i.a.createElement(q.a,{large:6},i.a.createElement(C.a,{label:"Question Type",error:y.type&&v.type,description:"Only binary answers now supported"},i.a.createElement(B.a,{value:"Binary",isDisabled:!0}))),i.a.createElement(q.a,{large:6},i.a.createElement(C.a,{label:"Reward (".concat(d,")"),error:y.bounty&&v.bounty,description:"The reward encourages others to answer the question. The final answer claims the reward. (You can also leave the reward as zero if you plan to supply the answer yourself, assuming it will survive challenges.)"},i.a.createElement(B.a,{value:w.bounty,onChangeText:function(e){return T("bounty",e)},keyboardType:"number-pad"}))))),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(N.b,null,i.a.createElement(q.a,{large:6},i.a.createElement(C.a,{label:"Arbitrator",error:y.arbitrator&&v.arbitrator||y.arbitratorAddress&&v.arbitratorAddress,description:"Empty field will use default arbitrator. Anyone who wants to challenge the final answer can request arbitration via Realitio, an Ethereum contract, or any other decision-making process you can code. The arbitrator assigns a cost for this service that is visible on the question page."},i.a.createElement(D.a,{selectedValue:w.arbitrator,onValueChange:function(e){"other"!==e&&T("arbitratorAddress",""),T("arbitrator",e)}},i.a.createElement(z.a,{value:"UNSELECTED",label:"Select arbitrator"}),(g||[]).map((function(e){return i.a.createElement(z.a,{key:e.address,value:e.address,label:e.fee.gt(new A.a(0))?"".concat(e.name," (Fee: ").concat(ne(e.fee,d),")"):e.name})})),i.a.createElement(z.a,{value:"other",label:"Other (Enter address)"})),"other"===w.arbitrator&&i.a.createElement(S.a,{paddingTop:16},i.a.createElement(B.a,{placeholder:"Enter address",value:w.arbitratorAddress,onChangeText:function(e){return T("arbitratorAddress",e)}})))),i.a.createElement(q.a,{large:6},i.a.createElement(C.a,{label:"Countdown",error:y.timeout&&v.timeout,description:"The countdown period determines how long another answer can be posted after an answer. Each answer resets the the countdown period. The final unchallenged answer after the countdown period expires is the winner."},i.a.createElement(D.a,{selectedValue:w.timeout,onValueChange:function(e){return T("timeout",e)}},i.a.createElement(z.a,{value:"30",label:"30 seconds (for testing)"}),i.a.createElement(z.a,{value:"180",label:"3 minutes (for testing or use by bots)"}),i.a.createElement(z.a,{value:"3600",label:"1 hour"}),i.a.createElement(z.a,{value:"10800",label:"3 hours"}),i.a.createElement(z.a,{value:"43200",label:"12 hours"}),i.a.createElement(z.a,{value:"86400",label:"1 day"}),i.a.createElement(z.a,{value:"172800",label:"2 days"}),i.a.createElement(z.a,{value:"259200",label:"3 days"}),i.a.createElement(z.a,{value:"345600",label:"4 days"}),i.a.createElement(z.a,{value:"432000",label:"5 days"}),i.a.createElement(z.a,{value:"518400",label:"6 days"}),i.a.createElement(z.a,{value:"604800",label:"1 week"})))))),i.a.createElement(S.a,a({large:{flexDirection:"row",justifyContent:"space-around",alignItems:"center"}}),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(Qe,{appearance:"outline",title:"Cancel",onPress:function(){return t.replace("/")}})),i.a.createElement(Qe,{title:"Submit Question",onPress:R,isLoading:H})))))})),Je=a(688),Ke=a(160),_e=function(e){var t=e.history,a=e.children,n=Object(O.e)();return i.a.createElement(He.a,{isVisible:!0,onRequestClose:function(){return t.replace("/")},getStyles:function(e,t){return{modalContainerStyle:{overflow:"scroll",backgroundColor:t.colors.background.overlay},overlayStyle:{backgroundColor:"transparent"},containerStyle:{width:"100%",maxWidth:n.containerSizes.xlarge,overflow:"visible"},bodyStyle:{maxHeight:756,overflow:"visible"}}}},i.a.createElement(S.a,{marginTop:-60,alignItems:"flex-end"},i.a.createElement(Ke.a,{onPress:function(){return t.replace("/")}},i.a.createElement(Je.a,{name:"x",size:60,color:"#fff"}))),a)},$e=a(97),et=a(698),tt=a(695),at=a(57),nt=function(e){var t=e.label,a=e.value,n=e.onPress,r=e.isActive,o=Object(u.c)(),c=Object(O.e)().getResponsiveValue;return i.a.createElement(Ke.a,{style:c({large:{flex:1},xsmall:{paddingHorizontal:16}}),onPress:function(){return n(a)}},i.a.createElement(S.a,{paddingBottom:16},i.a.createElement(I.a,{align:"center",size:"xxlarge",color:r?"primary":"muted"},t)),r?i.a.createElement(et.a,{color:o.colors.text.primary,getStyles:function(){return{dividerStyle:{height:6}}}}):i.a.createElement(S.a,{height:6}),i.a.createElement(et.a,null))},rt=function(e){var t=e.onChangeTab,a=e.tabs,n=e.currentValue,r=Object(O.e)().getResponsiveValue;return i.a.createElement(at.a,{horizontal:!0,contentContainerStyle:r({xlarge:{flex:1}})},a.map((function(e){return i.a.createElement(nt,{key:e.value,label:e.label,isActive:e.value===n,value:e.value,onPress:t})})))},ot=a(172),it=function(e){var t=e.testID,a=e.to,n=e.children,r=e.style,o=e.onClick,c=e.isExternal,l=Object(u.c)(),s=l.textSizes.medium,d=(s.fontVariant,s.fontWeight,s.textAlign,s.transform,s.lineHeight),m=Object(ot.a)(s,["fontVariant","fontWeight","textAlign","transform","lineHeight"]),f=Object(b.a)({color:l.colors.text.link,fontFamily:l.fontFamilies.text,textDecoration:"none",lineHeight:"".concat(d,"px")},m,{},r);return c?i.a.createElement("a",{style:f,"data-testid":t,href:a,onClick:o,target:"_blank",rel:"noopener noreferrer"},n):i.a.createElement(g.b,{style:f,"data-testid":t,to:a,onClick:o},n)},ct=a(337),lt=a(105),st=a(677),ut=a(694),dt=a(340),mt=a(697),ft=a(696),gt=a(687),pt=a(67),Et=!1;if("web"===pt.a.OS){var bt=function(){ht=Date.now(),Et&&(Et=!1)},wt=1e3,ht=0;document.addEventListener("touchstart",bt,!0),document.addEventListener("touchmove",bt,!0),document.addEventListener("mousemove",(function(){Et||Date.now()-ht<wt||(Et=!0)}),!0)}var yt,xt,vt=function(e){var t=e.children,a=e.onHoverOut,n=e.onHoverIn,r=i.a.useState(!1),o=Object(H.a)(r,2),c=o[0],l=o[1],s=i.a.useState(!0),u=Object(H.a)(s,2),d=u[0],m=u[1],f=i.a.useCallback((function(){Et&&!c&&(n&&n(),l(!0))}),[c,n]),g=i.a.useCallback((function(){c&&(a&&a(),l(!1))}),[c,a]),p=i.a.useCallback((function(){m(!1)}),[m]),E=i.a.useCallback((function(){m(!0)}),[m]),b="function"===typeof t?t(d&&c):t;return i.a.cloneElement(i.a.Children.only(b),{onMouseEnter:f,onMouseLeave:g,onResponderGrant:p,onResponderRelease:E,onPressIn:p,onPressOut:E})},At=function(e){var t=e.content,a=e.children,n=e.position;return i.a.createElement(vt,null,(function(e){return i.a.createElement(Ke.a,{disabled:!0,style:{userSelect:"auto"}},i.a.createElement(gt.a,{position:n,isVisible:e,content:t,getStyles:function(){return{positionerStyle:{top:0}}}},a))}))},kt=function(e){var t=e.alt,a=Object(ot.a)(e,["alt"]);return i.a.createElement("img",Object.assign({style:{maxWidth:"100%"},alt:t},a))},Tt=function(e){var t=function(e){var t=ze().getById,a=i.a.useState({loading:!0,data:null}),n=Object(H.a)(a,2),r=n[0],o=n[1];return Object(L.a)((function(){var a;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E.a.awrap(t(e));case 2:a=n.sent,o({loading:!1,data:a});case 4:case"end":return n.stop()}}))}),[t,e]),{data:r.data,loading:r.loading}}(e.questionId),a=t.data,n=t.loading,r=Object(O.e)().getResponsiveValue;return n?i.a.createElement(S.a,null,i.a.createElement(T.a,null,"Loading question")):a?i.a.createElement(S.a,{backgroundColor:"content"},i.a.createElement(S.a,Object.assign({paddingBottom:16,paddingTop:40},r({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(I.a,{align:"center",color:"primary",size:"xxlarge"},"QUESTION DETAILS")),i.a.createElement(S.a,Object.assign({paddingBottom:16,flexDirection:"row",justifyContent:"space-between",zIndex:1},r({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(Wt,{position:"bottom-left",question:a}),i.a.createElement(Ut,{question:a})),i.a.createElement(S.a,Object.assign({paddingBottom:24},r({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(T.a,{weight:"bold",getStyles:function(){return{textStyle:r({xlarge:{fontSize:32,lineHeight:40},xsmall:{fontSize:24,lineHeight:28}})}}},a.questionTitle)),i.a.createElement(S.a,Object.assign({},r({large:{flexDirection:"row",justifyContent:"space-between",paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),{paddingVertical:16}),i.a.createElement(S.a,r({large:{flexDirection:"row",alignItems:"center"},xsmall:{paddingBottom:16}}),i.a.createElement(S.a,r({large:{paddingRight:24},xsmall:{paddingBottom:16}}),i.a.createElement(Vt,{question:a})),i.a.createElement(Pt,{question:a})),i.a.createElement(Lt,{question:a})),a.state===se.OPEN&&i.a.createElement(S.a,Object.assign({paddingVertical:16},r({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(zt,{question:a})),Ne(a)?i.a.createElement(i.a.Fragment,null,i.a.createElement(Dt,{question:a}),a.state===se.OPEN&&i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,Object.assign({paddingVertical:24},r({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(Bt,{question:a})))):i.a.createElement(S.a,Object.assign({paddingVertical:24},r({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(Ot,null)),a.state===se.OPEN&&i.a.createElement(Ye,{pattern:"dotted"},i.a.createElement(S.a,Object.assign({paddingVertical:40},r({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(Ht,{question:a})))):i.a.createElement(S.a,null,i.a.createElement(T.a,null,"Question could not be found"))},Ot=function(){return i.a.createElement(S.a,null,i.a.createElement(T.a,null,"Trusted Oracle does not support answers to this type of question yet."))};!function(e){e.YES="Yes",e.NO="No",e.INVALID="Invalid",e.UNKNOWN="Unknown"}(xt||(xt={}));var St,It=(yt={},Object(lt.a)(yt,xt.NO,"0x0000000000000000000000000000000000000000000000000000000000000000"),Object(lt.a)(yt,xt.YES,"0x0000000000000000000000000000000000000000000000000000000000000001"),Object(lt.a)(yt,xt.INVALID,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),yt),Nt=function(e){switch(e){case It[xt.NO]:return xt.NO;case It[xt.YES]:return xt.YES;case It[xt.INVALID]:return xt.INVALID;default:return xt.UNKNOWN}},qt=function(){return function(e){return e.answer===It[xt.YES]?"#17874f":e.answer===It[xt.INVALID]?"#eb7060":"#974d0c"}},Ct=function(e){var t=e.answer,a=e.order,n=Object(O.e)().getResponsiveValue,r=ee().currency,o=qt();return i.a.createElement(S.a,null,i.a.createElement(S.a,Object.assign({},n({large:{flexDirection:"row",alignItems:"center"}}),{paddingVertical:16}),i.a.createElement(S.a,{flexBasis:"20%"},a),i.a.createElement(S.a,{flex:1},i.a.createElement(T.a,{weight:"bold",color:o(t),transform:"uppercase",size:"large"},Nt(t.answer))),i.a.createElement(S.a,n({large:{flexBasis:"20%",alignItems:"flex-end"}}),i.a.createElement(T.a,null,i.a.createElement(T.a,{size:"small"},"Posted ",Object(ie.a)(t.createdAtDate)," ago")))),i.a.createElement(S.a,Object.assign({},n({large:{flexDirection:"row",alignItems:"center"}}),{paddingBottom:16}),i.a.createElement(T.a,null,i.a.createElement(T.a,{weight:"bold"},"User "),t.user," "),i.a.createElement(T.a,null,i.a.createElement(T.a,{weight:"bold"},"Bond "),ne(t.bond,r))))},Dt=function(e){var t=e.question,a=t.answers,n=Object(O.e)().getResponsiveValue;if(!a.length)return null;if("UNANSWERED"===t.finalizedAtDate)return null;var r=a.sort((function(e,t){return Object(st.a)(e.createdAtDate,t.createdAtDate)})),o=Object(ct.a)(r),c=o[0],l=o.slice(1);return i.a.createElement(S.a,null,i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,Object.assign({},n({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),{paddingTop:16}),t.state!==se.FINALIZED&&i.a.createElement(T.a,{weight:"bold"},"Deadline ",Object(ut.a)(t.finalizedAtDate,new Date)),i.a.createElement(Ct,{answer:c,order:t.state===se.FINALIZED?i.a.createElement(T.a,{size:"large",weight:"bold"},"FINAL ANSWER:"):i.a.createElement(T.a,{size:"large",weight:"bold"},"CURRENT ANSWER:")}))),i.a.createElement(Ye,{pattern:"dotted"},i.a.createElement(S.a,n({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),l.map((function(e,t){return i.a.createElement(S.a,{key:String(e.bond)},i.a.createElement(Ct,{answer:e,order:i.a.createElement(T.a,{weight:"bold"},"ANSWER #",t+1,":")}),t!==l.length-1&&i.a.createElement(et.a,null))})))))},zt=function(e){var t=e.question,a=i.a.useState(!1),n=Object(H.a)(a,2),r=n[0],o=n[1],c=he().realitio,l=ee(),s=l.currency,d=l.approve,m=ze().refetch,f=Z().account,g=Fe().ensureHasConnected,p=Object(O.e)().getResponsiveValue,b=Object(u.c)(),w=Object(k.a)({initialValues:{bounty:""},validate:function(e){var t={};return e.bounty||(t.bounty="Please enter a bounty"),"TRST"===s&&re(e.bounty,s).lte(new A.a(0))&&(t.bounty="Bounty for TRST must be greater than 0"),t},onSubmit:function(e,a){var n,r,o;return E.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=a.setSubmitting,r=a.resetForm,i.next=3,E.a.awrap(g());case 3:if(!i.sent){i.next=23;break}if(o=re(e.bounty,s),i.prev=5,"ETH"!==s){i.next=11;break}return i.next=9,E.a.awrap(c.fundAnswerBounty(t.id,{from:f,value:o.toString()}));case 9:i.next=15;break;case 11:return i.next=13,E.a.awrap(d(c.address,o));case 13:return i.next=15,E.a.awrap(c.fundAnswerBountyERC20(t.id,o.toString(),{from:f}));case 15:return i.next=17,E.a.awrap(m(t.id));case 17:r(),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(5),console.log(i.t0);case 23:n(!1);case 24:case"end":return i.stop()}}),null,null,[[5,20]])}}),h=w.values,y=w.errors,x=w.touched,v=w.setFieldValue,T=w.submitForm,I=w.isSubmitting;return i.a.createElement(S.a,{alignItems:"flex-start"},i.a.createElement(mt.a,{title:"Add Reward",isOpen:r,onOpen:function(){return o(!0)},onClose:function(){return o(!1)},getStyles:function(){return{textStyle:{fontSize:20,color:b.colors.text.link},contentWrapperStyle:{paddingTop:16}}}},i.a.createElement(S.a,p({xlarge:{flexDirection:"row"}}),i.a.createElement(S.a,{paddingRight:16},i.a.createElement(C.a,{error:x.bounty&&y.bounty},i.a.createElement(B.a,{value:h.bounty,keyboardType:"number-pad",onChangeText:function(e){return v("bounty",e)},placeholder:"Enter amount"}))),i.a.createElement(Qe,{isLoading:I,onPress:T,appearance:"outline",title:"Add Reward"}))))},Bt=function(e){var t=e.question,a=he().realitio,n=Z().account,r=ee(),o=r.currency,c=r.approve,l=ze().refetch,s=Fe().ensureHasConnected,u=Object(O.e)().getResponsiveValue,d=Object(k.a)({initialValues:{answer:"UNSELECTED",bond:""},validate:function(e){var a={};return"UNSELECTED"===e.answer&&(a.answer="Please select an answer"),e.bond&&""!==e.bond?re(e.bond,o).lt(t.bond.mul(new A.a(2)))?a.bond="Bond must be equal or greater than ".concat(ne(t.bond.mul(new A.a(2)),o)):"TRST"===o&&re(e.bond,o).lte(new A.a(0))&&(a.bond="Bond for TRST must be greater than 0"):a.bond="Please enter a bond",a},onSubmit:function(e,r){var i,u,d;return E.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return i=r.setSubmitting,u=r.resetForm,m.next=3,E.a.awrap(s());case 3:if(!m.sent){m.next=25;break}if("UNSELECTED"!==e.answer){m.next=6;break}throw new Error("Answer required");case 6:if(m.prev=6,d=re(e.bond,o),"ETH"!==o){m.next=13;break}return m.next=11,E.a.awrap(a.submitAnswer.sendTransaction(t.id,e.answer,t.bond.toString(),{from:n,value:d.toString()}));case 11:m.next=17;break;case 13:return m.next=15,E.a.awrap(c(a.address,d));case 15:return m.next=17,E.a.awrap(a.submitAnswerERC20.sendTransaction(t.id,e.answer,t.bond.toString(),d.toString(),{from:n}));case 17:return u(),m.next=20,E.a.awrap(l(t.id));case 20:m.next=25;break;case 22:m.prev=22,m.t0=m.catch(6),console.log(m.t0);case 25:i(!1);case 26:case"end":return m.stop()}}),null,null,[[6,22]])}}),m=d.values,f=d.errors,g=d.touched,p=d.setFieldValue,b=d.submitForm,w=d.isSubmitting;return i.a.createElement(S.a,null,i.a.createElement(S.a,u({xlarge:{flexDirection:"row"}}),i.a.createElement(S.a,{paddingRight:16,flex:1},i.a.createElement(C.a,{label:"Do you know the answer to this question?",error:g.answer&&f.answer},i.a.createElement(D.a,{selectedValue:m.answer,onValueChange:function(e){return p("answer",e)}},i.a.createElement(z.a,{value:"UNSELECTED",label:"Select your answer"}),i.a.createElement(z.a,{value:It[xt.YES],label:xt.YES}),i.a.createElement(z.a,{value:It[xt.NO],label:xt.NO}),i.a.createElement(z.a,{value:It[xt.INVALID],label:xt.INVALID})))),i.a.createElement(S.a,{paddingRight:16,flex:1},i.a.createElement(C.a,{label:"Bond ".concat(t.bond&&"0"!==t.bond.toString()?"(minimum ".concat(ne(t.bond.mul(new A.a(2)),o),")"):""),error:g.bond&&f.bond},i.a.createElement(B.a,{value:m.bond,keyboardType:"number-pad",onChangeText:function(e){return p("bond",e)},placeholder:"Enter amount"}))),i.a.createElement(S.a,{flex:1},i.a.createElement(S.a,{height:28}),i.a.createElement(Qe,{isLoading:w,onPress:b,title:"Post your Answer"}))))},Rt=function(e){var t=e.state,a=e.finalizedAtDate,n=e.openingDate;return t===se.FINALIZED&&"UNANSWERED"!==a?"RESOLVED ON ".concat(Object(dt.a)(a,"MMM d, yyyy")):t===se.OPEN?"OPEN FOR ANSWERS":t===se.PENDING_ARBITRATION?"AWAITING ARBITRATION":"OPEN FOR ANSWERS ON ".concat(Object(dt.a)(n,"MMM d, yyyy"))},jt=function(e,t){var a=e.state;return a===se.FINALIZED?t.colors.text.default:a===se.OPEN?t.colors.text.primary:a===se.PENDING_ARBITRATION?t.colors.text.primary:t.colors.text.secondary},Lt=function(e){var t=e.question,a=Object(u.c)();return i.a.createElement(ft.a,{size:"small",shape:"pill",title:Rt(t),getStyles:function(){return{containerStyle:{borderWidth:1,borderColor:jt(t,a),backgroundColor:a.colors.background.content},textStyle:{color:jt(t,a),fontSize:14}}}})},Ht=function(e){var t=e.question,a=Z().account,n=Fe().ensureHasConnected,r=he().arbitratorContract,o=ze().refetch,c=Object(oe.a)((function(){var e,i;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,E.a.awrap(n());case 2:if(!c.sent){c.next=11;break}return c.next=5,E.a.awrap(r.at(t.arbitrator));case 5:return e=c.sent,i="0x"+t.bond.toString(16),c.next=9,E.a.awrap(e.requestArbitration(t.id,new A.a(i,16),{from:a,value:t.disputeFee}));case 9:return c.next=11,E.a.awrap(o(t.id));case 11:case"end":return c.stop()}}))}),[r,t,a]),l=Object(H.a)(c,2),s=l[0].loading,u=l[1];return i.a.createElement(S.a,null,i.a.createElement(S.a,{paddingBottom:16,alignItems:"center"},i.a.createElement(Qe,{isLoading:s,appearance:"outline",title:"Apply for arbitration",onPress:u})),i.a.createElement(S.a,null,i.a.createElement(T.a,{size:"small",isItalic:!0,align:"center"},"*Applying fee: ",ne(t.disputeFee,"ETH"))))},Pt=function(e){var t=e.question;return i.a.createElement(S.a,{flexDirection:"row"},i.a.createElement(S.a,{paddingRight:8},i.a.createElement(kt,{alt:"card posted icon",src:a(644)})),i.a.createElement(T.a,{size:"small"},"Posted ",Object(ie.a)(t.createdAtDate)," ago"))},Vt=function(e){var t=e.question,n=ee().currency;return i.a.createElement(S.a,{flexDirection:"row"},i.a.createElement(S.a,{paddingRight:8},i.a.createElement(kt,{alt:"card trst icon",src:a(645)})),i.a.createElement(T.a,{size:"small"},ne(t.bounty,n)))},Mt={ETH:new A.a(W.a.utils.toWei("0.01")),TRST:new A.a(1e8)},Wt=function(e){var t=e.question,a=e.position,n=ee().currency,r="";return t.timeout.lt(new A.a(86400))&&(r="The timeout is very low. This means there may not be enough time for people to correct mistakes or lies. \n"),t.bounty.lt(Mt[n])&&(r+="The bounty is very low. This means there may not be enough incentive to enter the correct answer and back it up with a bond.\n"),""===r?i.a.createElement(S.a,{height:24}):i.a.createElement(At,{position:a,content:i.a.createElement(S.a,{width:400},i.a.createElement(T.a,null,r))},i.a.createElement(Je.a,{name:"alert-circle",color:"default"}))},Ft=function(e){var t=Math.floor(e/86400),a=Math.floor(e%86400/3600),n=Math.floor(e%86400%3600/60),r=Math.floor(e%86400%3600%60);return(t>0?t+(1===t?" day ":" days "):"")+(a>0?a+(1===a?" hour ":" hours "):"")+(n>0?n+(1===n?" minute ":" minutes "):"")+(r>0?r+(1===r?" second":" seconds"):"")},Ut=function(e){var t=e.question,a=ee().currency;return i.a.createElement(At,{position:"bottom-right",content:i.a.createElement(S.a,{width:400},i.a.createElement(T.a,{size:"small"},"Reward: ",ne(t.bounty,a)),i.a.createElement(S.a,{height:8}),i.a.createElement(T.a,{size:"small"},"Highest bond: ",ne(t.bond,a)),i.a.createElement(S.a,{height:8}),i.a.createElement(T.a,{size:"small"},"Timeout: ",Ft(t.timeout.toNumber())),i.a.createElement(S.a,{height:8}),i.a.createElement(T.a,{size:"small"},"Content hash: ",t.contentHash),i.a.createElement(S.a,{height:8}),i.a.createElement(T.a,{size:"small"},"Question ID: ",t.id),i.a.createElement(S.a,{height:8}),i.a.createElement(T.a,{size:"small"},"Arbitrator: ",t.arbitrator),i.a.createElement(S.a,{height:8}),i.a.createElement(T.a,{size:"small"},"Author: ",t.user))},i.a.createElement(Je.a,{name:"more-horizontal",color:"default"}))},Yt=a(678);!function(e){e.LATEST="LATEST",e.CLOSING_SOON="CLOSING_SOON",e.HIGH_REWARD="HIGH_REWARD",e.RESOLVED="RESOLVED"}(St||(St={}));var Gt,Qt={toBlock:0,incrementIndex:0,loading:!0},Xt=[500,2500,5e3,7500,1e4,12500,15e3],Zt=function(e,t){switch(t.type){case"update":return Object(b.a)({},e,{},t.payload);default:throw new Error}},Jt=function(e){var t=e.first,a=e.category,r=he(),o=r.realitio,c=r.initialBlockNumber,l=ze(),s=l.getManyByIds,u=l.questions,d=i.a.useReducer(Zt,Qt),m=Object(H.a)(d,2),f=m[0],g=m[1],p=ce(),b=f.incrementIndex,w=f.toBlock,h=f.loading;Object(L.a)((function(){var e,t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=f.toBlock,a.next=3,E.a.awrap(p("latest"));case 3:t=a.sent,e||g({type:"update",payload:{toBlock:t.number,loading:!0}});case 5:case"end":return a.stop()}}))}),[p,f]);var y=Object(Yt.a)(b);Object(L.a)((function(){var e,t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(o||!w){a.next=2;break}return a.abrupt("return");case 2:if(y!==b||0===y){a.next=4;break}return a.abrupt("return");case 4:if((e=w-(b<Xt.length?Xt[b]:Xt[Xt.length-1]))<c&&(e=c),!(w<=c)){a.next=10;break}return g({type:"update",payload:{loading:!1}}),a.abrupt("return");case 10:return a.next=12,E.a.awrap(o.getPastEvents(n.LogNewQuestion,{fromBlock:e,toBlock:w}));case 12:return t=a.sent,a.next=15,E.a.awrap(s(t.map((function(e){return e.args.question_id}))));case 15:g({type:"update",payload:{toBlock:e-1,incrementIndex:b+1}});case 16:case"end":return a.stop()}}))}),[o,s,b,w,c]);var x=function(e,t){switch(t){case St.LATEST:return e.filter((function(e){return e.state!==se.FINALIZED})).sort((function(e,t){return Object(st.a)(e.createdAtDate,t.createdAtDate)}));case St.CLOSING_SOON:return e.filter((function(e){return e.state===se.OPEN||e.state===se.PENDING_ARBITRATION})).filter((function(e){return"UNANSWERED"!==e.finalizedAtDate})).sort((function(e,t){return"UNANSWERED"===e.finalizedAtDate||"UNANSWERED"===t.finalizedAtDate?-1:Object(st.a)(e.finalizedAtDate,t.finalizedAtDate)}));case St.HIGH_REWARD:return e.filter((function(e){return e.state!==se.FINALIZED})).filter((function(e){return e.bounty.gt(new A.a(0))})).sort((function(e,t){return t.bounty.sub(e.bounty).gt(new A.a(0))?1:t.bounty.sub(e.bounty).lt(new A.a(0))?-1:0}));case St.RESOLVED:return e.filter((function(e){return e.state===se.FINALIZED})).sort((function(e,t){return"UNANSWERED"===e.finalizedAtDate||"UNANSWERED"===t.finalizedAtDate?-1:Object(st.a)(e.finalizedAtDate,t.finalizedAtDate)}));default:return e}}(u,a);return{data:x.slice(0,t),total:x.length,loading:h}},Kt=function(e){var t=Object(u.c)(),a=Z().account,n=Object(O.e)().getResponsiveValue,r=qt(),o=e.question,c=o.answers.sort((function(e,t){return Object(st.a)(e.createdAtDate,t.createdAtDate)})),l=Object(H.a)(c,1)[0],s=c.find((function(e){return e.user===a}));return i.a.createElement(S.a,{backgroundColor:"white",borderWidth:1,borderColor:t.colors.border.default,borderRadius:8},i.a.createElement(S.a,{alignItems:"flex-end",paddingRight:8,paddingTop:8,zIndex:1},i.a.createElement(Wt,{position:"bottom-right",question:o})),i.a.createElement(S.a,Object.assign({},n({large:{flexDirection:"row",alignItems:"center"}}),{paddingHorizontal:40}),i.a.createElement(S.a,{flex:1,paddingRight:24},i.a.createElement(T.a,{weight:"bold",size:"large"},o.questionTitle)),i.a.createElement(et.a,{position:n({large:"vertical",xsmall:"horizontal"}),getStyles:function(){return{dividerStyle:n({large:{height:70},xsmall:{marginTop:24}})}}}),i.a.createElement(S.a,n({large:{flexBasis:"15%",paddingLeft:24},xsmall:{paddingTop:24}}),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(Vt,{question:o})),i.a.createElement(Pt,{question:o}))),i.a.createElement(S.a,{paddingTop:24},o.state!==se.NOT_OPEN&&Ne(o)&&i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,Object.assign({paddingVertical:16,paddingHorizontal:40},n({large:{flexDirection:"row"}}),{justifyContent:"space-between"}),Object($e.isEmpty)(c)&&i.a.createElement(T.a,{size:"large",weight:"bold"},"OPEN FOR ANSWERS"),o.state===se.FINALIZED?i.a.createElement(T.a,{size:"large",weight:"bold"},"FINAL ANSWER:"," ",i.a.createElement(T.a,{size:"large",weight:"bold",color:r(l)},Nt(l.answer).toUpperCase())):Object($e.isEmpty)(c)?null:i.a.createElement(T.a,{size:"large",weight:"bold"},c.length," ",1===c.length?"ANSWER":"ANSWERS"),s&&i.a.createElement(T.a,{size:"large",weight:"bold"},"MY ANSWER:"," ",i.a.createElement(T.a,{size:"large",weight:"bold",color:r(s)},Nt(s.answer).toUpperCase())))),!Ne(o)&&i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,{paddingVertical:16,paddingHorizontal:40,flexDirection:"row",justifyContent:"space-between"},i.a.createElement(Ot,null)))))},_t=function(){var e=i.a.useState(8),t=Object(H.a)(e,2),a=t[0],n=t[1],r=i.a.useState(St.LATEST),o=Object(H.a)(r,2),c=o[0],l=o[1],s=Jt({first:a,category:c}),u=s.data,d=s.loading,m=s.total;return i.a.createElement(Ye,{pattern:"dotted"},i.a.createElement(S.a,{paddingVertical:60},i.a.createElement(S.a,{paddingBottom:40},i.a.createElement(I.a,{align:"center",color:"secondary",size:"xxxlarge"},"QUESTION LIST")),i.a.createElement(tt.a,null,i.a.createElement(S.a,{paddingBottom:40},i.a.createElement(rt,{onChangeTab:function(e){l(e),n(8)},currentValue:c,tabs:[{label:"LATEST",value:St.LATEST},{label:"CLOSING SOON",value:St.CLOSING_SOON},{label:"HIGH REWARD",value:St.HIGH_REWARD},{label:"RESOLVED",value:St.RESOLVED}]})),u.map((function(e){return i.a.createElement(S.a,{key:e.id,paddingBottom:24},i.a.createElement(it,{to:"/question/".concat(e.id)},i.a.createElement(Kt,{question:e})))})),d&&a>m&&i.a.createElement(T.a,null,"Loading..."),a<m&&i.a.createElement(S.a,{alignItems:"center"},i.a.createElement(Qe,{appearance:"outline",title:"View more",onPress:function(){return n(a+8)}})))))},$t=a(86),ea=function(e){var t=function(){var e=Z().account;return i.a.useCallback((function(t){var a=new A.a(0);if("0x0000000000000000000000000000000000000000000000000000000000000000"===t.historyHash)return null;if(t.state!==se.FINALIZED)return null;for(var n=[],r=[],o=[],i=[],c=[],l=[],s=!0,u=!1,d=t.answers.length-1;d>=0;d--){var m=t.answers[d],f=m.answer,g=m.bond,p=m.user,E=m.historyHash;u?p!==e&&t.bestAnswer===f?(u=!1,a=a.sub(g)):a=a.add(g):p===e&&t.bestAnswer===f&&(u=!0,a=a.add(g)),s&&u&&(a=a.add(t.bounty)),o.push(g),i.push(f),c.push(p),l.push(E),s=!1}return a.gt(new A.a(0))?(n.push(t.id),r.push(o.length),l.shift(),l.push("0x0"),{total:a,questionIds:n,answerLengths:r,answers:i,answerers:c,bonds:o,historyHashes:l}):null}),[e])}();return i.a.useCallback((function(){var a,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=new A.a(0),n={questionIds:[],answerLengths:[],answers:[],answerers:[],bonds:[],historyHashes:[]},e.map(t).forEach((function(e){var t,r,o,i,c,l;e&&(a=a.add(e.total),(t=n.questionIds).push.apply(t,Object($t.a)(e.questionIds)),(r=n.answerLengths).push.apply(r,Object($t.a)(e.answerLengths)),(o=n.answers).push.apply(o,Object($t.a)(e.answers)),(i=n.answerers).push.apply(i,Object($t.a)(e.answerers)),(c=n.bonds).push.apply(c,Object($t.a)(e.bonds)),(l=n.historyHashes).push.apply(l,Object($t.a)(e.historyHashes)))})),r.abrupt("return",{claimable:a,claimArguments:n});case 4:case"end":return r.stop()}}))}),[t,e])},ta=function(){var e=Z().account,t=ze().getManyByIds,a=he(),r=a.realitio,o=a.initialBlockNumber,c=i.a.useState({loading:!0,data:[]}),l=Object(H.a)(c,2),s=l[0],u=l[1];return Object(L.a)((function(){var a,i,c;return E.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,E.a.awrap(r.getPastEvents(n.LogNewAnswer,{fromBlock:o,toBlock:"latest",filter:{user:e}}));case 2:return a=l.sent,i=Object($e.uniqBy)(a,(function(e){return e.args.question_id})),l.next=6,E.a.awrap(t(i.map((function(e){return e.args.question_id}))));case 6:c=l.sent,u({data:c,loading:!1});case 8:case"end":return l.stop()}}))}),[r,o,t,e]),s},aa=a(6),na=function(e){var t=e.questionId,a=e.questionTitle,n=e.date,r=e.message;return i.a.createElement(it,{to:"/question/".concat(t)},i.a.createElement(S.a,null,i.a.createElement(S.a,{paddingBottom:16},i.a.createElement(T.a,{color:"muted"},r," ",n),i.a.createElement(T.a,{weight:"bold"},a))))},ra=Object(f.e)((function(e){var t=e.history,a=ze(),n=a.notifications,r=a.getNotifications,o=Object(u.c)(),c=Object(O.e)().getResponsiveValue;return Object(L.a)((function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}))}),[r]),i.a.createElement(S.a,null,i.a.createElement(S.a,{paddingTop:40,paddingLeft:16,alignItems:"flex-start"},i.a.createElement(Ke.a,{onPress:function(){return t.replace("/my-account")}},i.a.createElement(aa.a,{style:{width:40,height:40}},i.a.createElement(Je.a,{size:24,name:"arrow-left",color:o.colors.text.primary})))),i.a.createElement(S.a,Object.assign({paddingBottom:16},c({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}})),i.a.createElement(I.a,{align:"center",color:"primary",size:"xxlarge"},"NOTIFICATIONS")),i.a.createElement(Ye,{pattern:"dotted"},i.a.createElement(S.a,c({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),i.a.createElement(tt.a,null,i.a.createElement(N.b,null,n.map((function(e,t){return i.a.createElement(q.a,{key:t},i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(na,e)))})))))))})),oa=function(){var e=he().realitio,t=ee().currency,a=Z().account,n=ta(),r=n.data,o=n.loading,c=function(e){var t=ea(e),a=i.a.useState({loading:!0,data:{claimArguments:{questionIds:[],answerLengths:[],answers:[],answerers:[],bonds:[],historyHashes:[]},claimable:new A.a(0)}}),n=Object(H.a)(a,2),r=n[0],o=n[1];return Object(L.a)((function(){var e;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(t());case 2:e=a.sent,o({loading:!1,data:e});case 4:case"end":return a.stop()}}))}),[e,t]),r}(r),l=c.data,s=l.claimArguments,u=l.claimable,d=c.loading,m=ze().refetchIds,f=Object(oe.a)((function(){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=14e4+3e4*s.historyHashes.length,n.next=3,E.a.awrap(e.claimMultipleAndWithdrawBalance.sendTransaction(s.questionIds,s.answerLengths,s.historyHashes,s.answerers,s.bonds.map((function(e){return e.toString()})),s.answers,{from:a,gas:t}));case 3:m(s.questionIds);case 4:case"end":return n.stop()}}))}),[a,e,s]),g=Object(H.a)(f,2),p=g[0].loading,b=g[1];return d||o?null:u.eq(new A.a(0))?null:i.a.createElement(S.a,null,i.a.createElement(Ke.a,{onPress:b},p?i.a.createElement(T.a,{color:"secondary"},"Loading..."):i.a.createElement(T.a,{color:"secondary"},"Claim ",ne(u,t))))},ia=Object(f.e)((function(e){var t=e.history,a=ze(),n=a.notifications,r=a.getNotifications,o=Object(O.e)().getResponsiveValue;return Object(L.a)((function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}))}),[r]),n.length?i.a.createElement(S.a,Object.assign({},o({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),{paddingVertical:24}),i.a.createElement(S.a,{flexDirection:"row",justifyContent:"space-between"},i.a.createElement(T.a,{weight:"bold",color:"primary"},"Latest activity"),i.a.createElement(Ke.a,{onPress:function(){return t.replace("/notifications")}},i.a.createElement(T.a,{color:"secondary"},"See all"))),n.slice(0,1).map((function(e,t){return i.a.createElement(S.a,{key:t},i.a.createElement(na,e))}))):null})),ca=function(){var e=ee().currency,t=Le(),a=t.data;return t.loading?i.a.createElement(T.a,null,"Loading..."):i.a.createElement(T.a,{color:"primary",weight:"bold"},"Your balance: ",ne(a,e))};!function(e){e.QUESTION="QUESTION",e.ANSWER="ANSWER"}(Gt||(Gt={}));var la=function(){var e=ta(),t=e.data;return e.loading?i.a.createElement(T.a,null,"Loading..."):i.a.createElement(S.a,null,t.map((function(e){return i.a.createElement(S.a,{key:e.id,paddingBottom:24},i.a.createElement(it,{to:"/question/".concat(e.id)},i.a.createElement(Kt,{question:e})))})))},sa=function(){var e=function(){var e=Z().account,t=he(),a=t.realitio,r=t.initialBlockNumber,o=ze().getManyByIds,c=i.a.useState({loading:!0,data:[]}),l=Object(H.a)(c,2),s=l[0],u=l[1];return Object(L.a)((function(){var t,i;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,E.a.awrap(a.getPastEvents(n.LogNewQuestion,{fromBlock:r,toBlock:"latest",filter:{user:e}}));case 2:return t=c.sent,c.next=5,E.a.awrap(o(t.map((function(e){return e.args.question_id}))));case 5:i=c.sent,u({data:i,loading:!1});case 7:case"end":return c.stop()}}))}),[a,r,o,e]),s}(),t=e.data;return e.loading?i.a.createElement(T.a,null,"Loading..."):i.a.createElement(S.a,null,t.map((function(e){return i.a.createElement(S.a,{key:e.id,paddingBottom:24},i.a.createElement(it,{to:"/question/".concat(e.id)},i.a.createElement(Kt,{question:e})))})))},ua=function(){var e=Z().account,t=i.a.useState(Gt.QUESTION),a=Object(H.a)(t,2),n=a[0],r=a[1],o=Object(O.e)().getResponsiveValue;return e?i.a.createElement(S.a,null,i.a.createElement(S.a,Object.assign({paddingBottom:16},o({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),{paddingTop:40}),i.a.createElement(I.a,{align:"center",color:"primary",size:"xxlarge"},"MY ACCOUNT")),i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,Object.assign({},o({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),{paddingVertical:24,flexDirection:"row",justifyContent:"space-between"}),i.a.createElement(ca,null),i.a.createElement(oa,null))),i.a.createElement(ia,null),i.a.createElement(Ye,{pattern:"dotted"},i.a.createElement(S.a,o({large:{paddingHorizontal:60},xsmall:{paddingHorizontal:16}}),i.a.createElement(S.a,{paddingBottom:40,paddingTop:24},i.a.createElement(rt,{onChangeTab:r,currentValue:n,tabs:[{label:"QUESTION",value:Gt.QUESTION},{label:"ANSWER",value:Gt.ANSWER}]})),n===Gt.ANSWER?i.a.createElement(la,null):i.a.createElement(sa,null)))):i.a.createElement(S.a,null,i.a.createElement(T.a,null,"Account required"))},da=a(691),ma=a(680),fa=a(679),ga=a(96),pa=Object(f.e)((function(e){var t=e.history,n=Z(),r=n.account,o=n.hasWallet,c=n.isConnected,l=n.web3IsLoading,s=Fe().ensureHasConnected,d=i.a.useContext(u.a),m=i.a.useCallback((function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.awrap(s());case 2:if(!e.sent){e.next=4;break}t.push("/my-account");case 4:case"end":return e.stop()}}))}),[s,t]);return i.a.createElement(Ke.a,{onPress:m},i.a.createElement(S.a,{testID:"BLOCKCHAIN_ACCOUNT_STATUS",height:48,borderWidth:1,paddingVertical:8,paddingHorizontal:16,justifyContent:"center",shape:"rounded",flexDirection:"row",alignItems:"center",borderColor:d.colors.border.default},r&&i.a.createElement(S.a,{paddingRight:16},i.a.createElement(ga.a,{source:{uri:a(646),height:16,width:16},accessibilityLabel:"metamask account icon"})),i.a.createElement(S.a,null,i.a.createElement(T.a,{size:"small"},l?"Loading...":o?c?r?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;if(!e)return"";var n=e.substring(e.length-a),r=e.substring(0,t);return"".concat(r,"...").concat(n)}(r):"Sign in your wallet":"Connect to app":"Connect to wallet"))))})),Ea=function(){var e=Object(O.e)().getResponsiveValue;return i.a.createElement(it,{to:"/",style:{alignItems:"center",display:"flex",textDecoration:"none"}},i.a.createElement(kt,{alt:"trusted-oracle-logo",src:e({xlarge:a(647),xsmall:a(648)})}))},ba=function(){return i.a.createElement(et.a,{position:"vertical",getStyles:function(){return{dividerStyle:{height:30}}}})},wa=function(e){var t=e.children,a=e.to,n=e.isExternal;return i.a.createElement(it,{to:a,isExternal:n,style:{textDecoration:"none",height:"100%"}},i.a.createElement(S.a,{justifyContent:"center",height:"100%",paddingHorizontal:16},i.a.createElement(T.a,{color:"link"},t)))},ha=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,{flexDirection:"row",height:80,justifyContent:"space-between",paddingHorizontal:31,zIndex:1},i.a.createElement(Ea,null),i.a.createElement(S.a,{flexDirection:"row",alignItems:"center"},i.a.createElement(wa,{to:"/"},"Home"),i.a.createElement(ba,null),i.a.createElement(wa,{to:"/ask-question"},"Ask a Question"),i.a.createElement(ba,null),i.a.createElement(wa,{to:"https://blog.wetrust.io/how-trusted-oracle-works-621546b587ad",isExternal:!0},"How it works"),i.a.createElement(ba,null),i.a.createElement(wa,{to:"https://uniswap.exchange/swap",isExternal:!0},"Get TRST"),i.a.createElement(ba,null),i.a.createElement(wa,{to:"https://blog.wetrust.io/",isExternal:!0},"Our Blog"),i.a.createElement(S.a,{paddingLeft:16},i.a.createElement(pa,null)))),i.a.createElement(et.a,null))},ya=function(e){var t=e.children,a=e.to,n=e.onClick,r=e.isExternal;return i.a.createElement(it,{to:a,onClick:n,isExternal:r},i.a.createElement(S.a,{alignItems:"center",paddingVertical:16},i.a.createElement(I.a,{size:"xxlarge",color:"link"},t)),i.a.createElement(et.a,null))},xa=function(e){var t=e.onClick;return i.a.createElement(i.a.Fragment,null,i.a.createElement(ya,{onClick:t,to:"/"},"Home"),i.a.createElement(ya,{onClick:t,to:"/ask-question"},"Ask a Question"),i.a.createElement(ya,{onClick:t,to:"https://blog.wetrust.io/how-trusted-oracle-works-621546b587ad",isExternal:!0},"How it works"),i.a.createElement(ya,{onClick:t,to:"https://uniswap.exchange/swap",isExternal:!0},"Get TRST"),i.a.createElement(ya,{onClick:t,to:"https://blog.wetrust.io/",isExternal:!0},"Our Blog"))},va=function(){var e=i.a.useState(!1),t=Object(H.a)(e,2),a=t[0],n=t[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(tt.a,{fluid:!0},i.a.createElement(S.a,{flexDirection:"row",height:60,justifyContent:"space-between",zIndex:1},i.a.createElement(Ea,null),i.a.createElement(S.a,{flexDirection:"row",alignItems:"center"},i.a.createElement(pa,null),i.a.createElement(Ke.a,{onPress:function(){return n(!0)}},i.a.createElement(aa.a,{style:{padding:16}},i.a.createElement(Je.a,{name:"menu",size:24}))))),i.a.createElement(da.a,{visible:a,onRequestClose:function(){return n(!1)}},i.a.createElement(S.a,{flexDirection:"row",height:60,justifyContent:"flex-end"},i.a.createElement(Ke.a,{onPress:function(){return n(!1)}},i.a.createElement(aa.a,{style:{padding:16}},i.a.createElement(Je.a,{name:"x",size:32})))),i.a.createElement(S.a,{paddingBottom:100},i.a.createElement(xa,{onClick:function(){return n(!1)}})))),i.a.createElement(et.a,null))},Aa=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(fa.a,null),i.a.createElement(ma.a,{xsmall:!0,small:!0,medium:!0},i.a.createElement(va,null)),i.a.createElement(ma.a,{large:!0,xlarge:!0},i.a.createElement(ha,null)))},ka=a(702),Ta=a(303),Oa=function(e){var t=e.blog,a=t.link,n=t.coverImageUrl,r=t.title,o=t.editor,c=t.editorLogo,l=t.description,s=t.publishedTime;return i.a.createElement(Ta.a,{source:{uri:n}},i.a.createElement(it,{to:a,isExternal:!0},i.a.createElement(S.a,{backgroundColor:"#000",opacity:.5,position:"absolute",top:0,bottom:0,left:0,right:0}),i.a.createElement(S.a,{marginTop:96,marginLeft:32,marginRight:"10%"},i.a.createElement(S.a,{height:64,overflow:"hidden"},i.a.createElement(I.a,{size:"xlarge",color:"white"},r)),i.a.createElement(S.a,{marginTop:8,marginRight:"10%",height:78,overflow:"hidden"},i.a.createElement(ka.a,{color:"#ffffff"},l?l.substr(0,256):"")),i.a.createElement(S.a,{flexDirection:"row",marginVertical:32},i.a.createElement(S.a,{borderRadius:.5},i.a.createElement("img",{src:c,alt:"editor logo",width:36,height:36})),i.a.createElement(S.a,{marginLeft:16},i.a.createElement(S.a,null,i.a.createElement(T.a,{size:15,weight:"bold",color:"#ffffff"},o)),i.a.createElement(S.a,null,i.a.createElement(T.a,{size:11,color:"#ffffff"},function(e){var t=Math.floor(((new Date).getTime()-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" years":(a=Math.floor(t/2592e3))>1?a+" months":(a=Math.floor(t/86400))>1?a+" days":(a=Math.floor(t/3600))>1?a+" hours":(a=Math.floor(t/60))>1?a+" minutes":Math.floor(t)+" seconds"}(Date.parse(s))," ago")))))))},Sa=function(){var e=i.a.useState([]),t=Object(H.a)(e,2),a=t[0],n=t[1];return i.a.useEffect((function(){fetch("https://wetrust-proxy-server.herokuapp.com/wetrust_medium_blog_feeds").then((function(e){return e.json()})).then((function(e){return n(function(e){var t=[];if(!e||!e.items)return t;var a,n,r=/<img.*?src="(.*?)"/i,o=!0,i=!1,c=void 0;try{for(var l,s=e.items[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=l.value;a=r.exec(u["content:encoded"]),(n=document.createElement("div")).innerHTML=u["content:encoded"],t.push({link:u.link||"",coverImageUrl:a?a[1]:"",title:u.title||"",editor:u.creator||"",editorLogo:"https://cdn-images-1.medium.com/fit/c/60/60/1*N8XHvK7UuTuoj31VIbMGsw.png",description:n.textContent||n.innerText||"",publishedTime:u.isoDate||""})}}catch(d){i=!0,c=d}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return t}(e))}))}),[]),a.length?i.a.createElement(S.a,{paddingVertical:60},i.a.createElement(S.a,{paddingBottom:60},i.a.createElement(I.a,{align:"center",size:"xxxlarge",color:"secondary",accessibilityLevel:2},"Our Blog")),i.a.createElement(tt.a,null,i.a.createElement(N.b,null,i.a.createElement(q.a,{large:8,xlarge:8},i.a.createElement(S.a,{marginBottom:24},i.a.createElement(Oa,{blog:a[0]}))),i.a.createElement(q.a,{large:4,xlarge:4},i.a.createElement(S.a,{marginBottom:24},i.a.createElement(Oa,{blog:a[1]})))),i.a.createElement(N.b,null,i.a.createElement(S.a,{paddingVertical:16})),i.a.createElement(N.b,null,i.a.createElement(q.a,{large:4,xlarge:4},i.a.createElement(S.a,{marginBottom:24},i.a.createElement(Oa,{blog:a[2]}))),i.a.createElement(q.a,{large:4,xlarge:4},i.a.createElement(S.a,{marginBottom:24},i.a.createElement(Oa,{blog:a[3]}))),i.a.createElement(q.a,{large:4,xlarge:4},i.a.createElement(S.a,{marginBottom:24},i.a.createElement(Oa,{blog:a[4]}))))),i.a.createElement(S.a,{paddingVertical:72,alignItems:"center"},i.a.createElement(it,{to:"https://blog.wetrust.io",isExternal:!0},i.a.createElement(Qe,{appearance:"outline",title:"Read more"})))):i.a.createElement(T.a,null,"Loading...")},Ia=a(681),Na=function(){return i.a.createElement(Ia.a,{tosLink:"/Trusted_Oracle_v1.0.pdf"})},qa=Object(f.e)((function(e){var t=e.history;return i.a.createElement(S.a,{paddingVertical:40},i.a.createElement(tt.a,null,i.a.createElement(N.b,null,i.a.createElement(q.a,{medium:6},i.a.createElement(I.a,{size:"xxxlarge",color:"primary"},"Crowd-sourced Oracle for Smart Contracts"),i.a.createElement(S.a,{paddingBottom:40},i.a.createElement(T.a,null,"Trusted Oracle provides a flexible mechanism for bringing off-chain events on-chain, so data is easily accessible by smart contracts."),i.a.createElement(it,{to:"https://blog.wetrust.io/how-trusted-oracle-works-621546b587ad",isExternal:!0},"See how it works")),i.a.createElement(S.a,{paddingBottom:40},i.a.createElement(T.a,null,"Powered by"," ",i.a.createElement(it,{to:"https://realit.io",isExternal:!0},"Realitio"))),i.a.createElement(S.a,{alignItems:"flex-start",paddingBottom:24},i.a.createElement(Qe,{title:"Ask a question",onPress:function(){t.push("/ask-question")}}))),i.a.createElement(q.a,{medium:6},i.a.createElement(kt,{alt:"trusted-oracle hero",src:a(649)})))))})),Ca=Object(f.e)((function(e){var t=e.history;return i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,{paddingVertical:60},i.a.createElement(tt.a,null,i.a.createElement(N.b,null,i.a.createElement(q.a,{medium:6,offsetMedium:3},i.a.createElement(I.a,{size:"xxxlarge",align:"center",color:"primary"},"ASK A QUESTION"),i.a.createElement(S.a,{paddingBottom:40},i.a.createElement(T.a,{align:"center"},"In order to use Trusted Oracle, ask a question you'd like to know the answer to. The best questions can easily be publicly verified and an accurate answer determined. Although it is not required, Trustcoins (TRST) can be added to questions to incentivize reporters to answer. If you plan to answer the question yourself, you can leave the reward as zero."),i.a.createElement(it,{style:{textAlign:"center"},to:"https://cryptounlocked.wetrust.io/",isExternal:!0},"View more details")),i.a.createElement(S.a,{alignItems:"center"},i.a.createElement(Qe,{title:"Ask a question",onPress:function(){t.push("/ask-question")}})))))))})),Da=function(){var e=Object(O.e)().getResponsiveValue;return i.a.createElement(Ye,{pattern:"dotted"},i.a.createElement(S.a,{paddingVertical:60},i.a.createElement(tt.a,null,i.a.createElement(N.b,null,i.a.createElement(q.a,{medium:6,offsetMedium:3},i.a.createElement(S.a,{paddingBottom:40},i.a.createElement(I.a,{size:"xxxlarge",align:"center",color:"secondary"},"HOW IT WORKS")))),i.a.createElement(N.b,null,i.a.createElement(q.a,null,i.a.createElement(S.a,{paddingBottom:60},i.a.createElement(kt,{alt:"trusted-oracle how it works",src:e({xlarge:a(650),xsmall:a(651)})})))),i.a.createElement(N.b,null,i.a.createElement(q.a,{medium:6,offsetMedium:3},i.a.createElement(S.a,{alignItems:"center"},i.a.createElement(it,{to:"https://blog.wetrust.io/how-trusted-oracle-works-621546b587ad",isExternal:!0},i.a.createElement(Qe,{appearance:"outline",title:"More details"}))))))))},za=function(){var e=Object(O.e)().getResponsiveValue;return i.a.createElement(Ye,{pattern:"textured"},i.a.createElement(S.a,{paddingVertical:60},i.a.createElement(tt.a,null,i.a.createElement(N.b,null,i.a.createElement(q.a,{medium:6,offsetMedium:3},i.a.createElement(I.a,{size:"xxxlarge",align:"center",color:"primary"},"GET TRST"),i.a.createElement(S.a,{paddingBottom:40},i.a.createElement(T.a,{align:"center"},"Use Bancor or Uniswap to get TRST Coins and use your TRST as a reward to encourage others to answer your questions. The final answer will claim this reward.")),i.a.createElement(S.a,e({large:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}}),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(it,{to:"https://www.bancor.network",isExternal:!0},i.a.createElement(Qe,{appearance:"outline",icon:i.a.createElement(kt,{alt:"get trst via banchor",src:a(652)})}))),i.a.createElement(S.a,{paddingBottom:24},i.a.createElement(it,{to:"https://uniswap.exchange/swap",isExternal:!0},i.a.createElement(Qe,{appearance:"outline",icon:i.a.createElement(kt,{alt:"get trst via uniswap",src:a(653)})})))))))))},Ba=function(){return i.a.createElement(S.a,null,i.a.createElement(qa,null),i.a.createElement(_t,null),i.a.createElement(Ca,null),i.a.createElement(Da,null),i.a.createElement(za,null),i.a.createElement(Sa,null),i.a.createElement(Na,null))},Ra=function(e){var t=e.history;return i.a.createElement(_e,{history:t},i.a.createElement(ua,null))},ja=function(e){var t=e.history,a=e.match;return a?i.a.createElement(_e,{history:t},i.a.createElement(Tt,{questionId:a.params.questionId})):null},La=function(e){var t=e.history;return i.a.createElement(_e,{history:t},i.a.createElement(ra,null))},Ha=function(e){var t=e.history;return i.a.createElement(_e,{history:t},i.a.createElement(Ze,null))},Pa={TRST:s,ETH:null};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a({dsn:"https://563bcac3488649bf9d5bee18dd6a4e98@sentry.io/1757838"}),l.a.render(i.a.createElement((function(){return i.a.createElement(g.a,{basename:"/"},i.a.createElement(u.b,{value:{colors:{button:{primary:"#e98100"},text:{default:"#7e7e7e",primary:"#2985cf",secondary:"#39a296",link:"#259083"}},fontFamilies:{heading:"MicrobrewSoftOneHatch"},headingSizes:{xxxlarge:{fontSize:60,lineHeight:66,marginBottom:16},xxlarge:{fontSize:40}},textSizes:{medium:{fontSize:18,lineHeight:24},large:{fontSize:20}},components:{getFormFieldStyles:function(){return{labelTextStyle:{color:"#2985cf",fontWeight:"bold"},descriptionTextStyle:{fontSize:14}}}}}},i.a.createElement(d.a,{value:{containerSizes:{small:540,medium:720,large:960,xlarge:1280}}},i.a.createElement(m.a,null,i.a.createElement(K,null,i.a.createElement(Ue,null,i.a.createElement(te,{contracts:Pa,initialCurrency:"TRST"},i.a.createElement(ye,null,i.a.createElement(je,null,i.a.createElement(Aa,null),i.a.createElement(f.a,{path:"/",component:Ba}),i.a.createElement(f.a,{path:"/my-account",component:Ra}),i.a.createElement(f.a,{path:"/ask-question",component:Ha}),i.a.createElement(f.a,{path:"/notifications",component:La}),i.a.createElement(f.a,{path:"/question/:questionId",component:ja}))))))))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[346,1,2]]]);
//# sourceMappingURL=main.5f8375ca.chunk.js.map